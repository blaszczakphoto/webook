require "crawler_optimizer"
require "crawler"
require "duplicate_optimizer"
require "duplicate_remover"
require "duplicate_optimizer"
require "crawler_optimizer"

class PageExploiter

	def initialize(base_url)
	  @base_url = base_url
	end

	def exploit!(max = false)
    crawler = Crawler.new(@base_url)
    crawler.run(15)
    @duplicate_remover = DuplicateRemover.new(crawler.website)
    @duplicate_remover.remove
    # crawler.involve_duplicate_patterns(@duplicate_remover.duplicate_optimizer.crawler_patterns)
  	crawler.run(100)
  	@duplicate_remover.remove
    crawler.run(max)
    return @duplicate_remover.remove
	end

  

end